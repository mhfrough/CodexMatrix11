<div class="main-content-container container-fluid px-4">
  <!-- Page Header -->
  <div class="page-header row no-gutters py-4">
    <div class="col-12 col-sm-4 text-center text-sm-left mb-0">
      <span class="text-uppercase page-subtitle">Management</span>
      <h3 class="page-title">Project</h3>
    </div>
  </div>
  <!-- End Page Header -->
  <div class="row">
    <div class="col-lg-12">

      <div class="card card-small mb-4">
        <div class="card-header border-bottom">
          <h6 class="m-0">{{app.action}} New Project</h6>
        </div>
        <div class="card-body">
          <form role="form" [formGroup]="rForm" (ngSubmit)="onSubmit(rForm.value)">
            <fieldset>
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <select class="form-control" formControlName="deptId" (change)="onChange($event.target.value)"
                      autofocus>
                      <option *ngFor="let item of dept.deptList" value="{{item.id}}">
                        {{item.name}}
                      </option>
                    </select>
                    <small>Select department</small>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <select class="form-control" formControlName="projId">
                      <option *ngFor="let item of proj.projList" value="{{item.id}}">
                        {{item.name}}
                      </option>
                    </select>
                    <small>Select project</small>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-12">
                  <div class="form-group">
                    <input class="form-control" placeholder="Task Name" formControlName="taskName" type="text">
                    <small class="alertMessage" *ngIf="!rForm.controls['taskName'].valid && rForm.controls['taskName'].touched">
                      Task name field is required
                    </small>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-lg-12">
                  <div class="form-group">
                    <textarea class="form-control" formControlName="taskDes" rows="3"></textarea>
                    <small class="alertMessage" *ngIf="!rForm.controls['taskDes'].valid && rForm.controls['taskDes'].touched">
                      Task description field is required
                    </small>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <input class="form-control" placeholder="Due Date" formControlName="date" type="date">
                    <small class="alertMessage" *ngIf="!rForm.controls['date'].valid && rForm.controls['date'].touched">
                      Task date field is required
                    </small>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <select class="form-control" formControlName="priority">
                      <option value="1">Low</option>
                      <option value="2">Medium</option>
                      <option value="3">High</option>
                    </select>
                    <small>Select priority</small>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-12">
                  <div class="form-group">
                    <select class="form-control" name="selectedSkills" multiple="multiple" [(ngModel)]="selectedSkills"
                      formControlName="skills">
                      <option *ngFor="let item of skil.skilList" (click)="clickedOption()" [ngValue]="item.id">
                        {{item.name}}
                      </option>
                    </select>
                    <small>Select skills</small>

                    <!-- <ng-select [items]="people" [multiple]="true" bindLabel="name" groupBy="gender" [selectableGroup]="true"
                      [closeOnSelect]="false" bindValue="id" [(ngModel)]="selectedPeople">
                      <ng-template ng-optgroup-tmp let-item="item" let-item$="item$" let-index="index">
                        <input id="item-{{index}}" type="checkbox" [ngModel]="item$.selected" /> {{item.gender |
                        uppercase}}
                      </ng-template>
                      <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                        <input id="item-{{index}}" type="checkbox" [ngModel]="item$.selected" /> {{item.name}}
                      </ng-template>
                    </ng-select> -->
                  </div>
                </div>
              </div>

              <button type="submit" id="submit" class="mb-2 btn btn-white mr-1" [disabled]="!rForm.valid">{{
                app.button
                }}</button>
              <button type="reset" class="mb-2 btn btn-white mr-1" (click)="app.reset()">Reset</button>

            </fieldset>
          </form>
        </div>
      </div>

    </div>
  </div>

</div>